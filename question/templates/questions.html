{% extends 'base.html' %}
{% load staticfiles %}
{% load static %}

{% block header_extends %}
    <link rel="stylesheet" href="{% static 'question.css' %}">
{% endblock %}

{% block content %}

    <div class="col-sm-10 col-sm-offset-1">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">测试问卷</h3>
            </div>
            <div class="panel-body">
                <form action="" method="post" >
                    {% for choise in choises %}
                        <div class="question-block">{{ choise.question }}</div>
                        <div class="radio">
                            <label>
                                <input type="radio" name="{{choise.pk}}"  value="{{choise.v1}}" >{{ choise.c1 }}
                            </label>
                        </div>
                        <div class="radio">
                            <label>
                                <input type="radio" name="{{choise.pk}}" value="{{choise.v2}}" >{{ choise.c2 }}
                            </label>
                        </div>
                        <div class="radio">
                            <label>
                                <input type="radio" name="{{choise.pk}}" value="{{choise.v3}}" >{{ choise.c3 }}
                            </label>
                        </div>
                        <div class="radio">
                            <label>
                                <input type="radio" name="{{choise.pk}}"  value="{{choise.v4}}" >{{ choise.c4 }}
                            </label>
                        </div>
                        <hr>
                    {% endfor %}
                
                
                    <button type="button" class="btn btn-primary"  onclick="countvalue()">提交问卷</button>
                
                </form>
                <hr>

                <div class="result">
                    <p style="font-size: 20px;">您的得分为：</p>
                    <p id="answer" style="font-size: 20px; color: red;"></p>
                </div>

            </div>
        </div>
    </div>

    <script>
        function countvalue(){
            var objx = document.getElementsByTagName("input");
            var ans = parseInt(0);
            
            for(i=0;i<objx.length;i++)
            {
                if (objx[i].checked)
                {
                    ans = ans + parseInt(objx[i].value);
                    
                }
            }
            
            document.getElementById("answer").innerHTML = ans;
            
        }
        
    </script>

{% endblock %}


